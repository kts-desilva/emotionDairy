<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Emotion Dairy : Home</title>
    <link rel="icon" type="image/icon" href="assets/images/tabicon.ico">

    <link rel="stylesheet" type="text/css" href="">
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="assets/css/font-awesome.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,700,700i" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Crimson+Text:400,700,700i|Josefin+Sans:700" rel="stylesheet">
    <link href="assets/css/comain.css" rel="stylesheet">
    <link href="assets/css/mycocss.css" rel="stylesheet">
    <link rel="icon" href="assets/images/logo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    
    <style>
        .card {
            margin-top: 10px;
            width: 450px;
            box-sizing: border-box;
            border-radius: 2px;
            background-clip: padding-box;
            background-color: #fff;

            
            position: absolute;
            top: 50%;
            left: 50%;
            margin-left: 50px;
            margin-top: 200px;
        }

        .two{
            background-color: #34ADFF;
            background-image: -webkit-linear-gradient(150deg, #34ADFF 45%, #4CBFFF 35%);
            height: 100%;
            min-height: 450px;
        }
    </style>

</head>

<body id="bb" style="background-color: #dce68b">
    <div class="container">
        <div class="row">
            <!-- Card Projects -->
            <div class="center col-md-6 col-md-offset-3">
                <div class="card animated slideInLeft" id="mainCard">
                    <div class="card-content" id="cardInfo">
                        <p class="title_description">Sign up</p>
                        <form>
                            <br>
                            <input type='text' placeholder='Username:' id='username' required /><br>
                            <input type='text' placeholder='Email:' id='email' required /><br>
                            <input type='password' placeholder='Password:' id='psw' required/><br>
                            <input type='password' placeholder='Verify password:' id='vpsw' /><br>
                            <div id="me">
                                
                            </div>
                            
                        </form>    
                        <a class="black-button" href="#" onclick="return ef();">Sign up</a><br> 
                    </div>
                    
                    
                    <!--img class="card-image" src="assets/images/seaside-day-preview.jpg" width="450" height="250"-->
                </div>
            </div>
        </div>
    </div>

    <div class="two">
        <br><br><br>
        <center><img src="assets/images/151918638096093397.png"></center>
    </div>
    

</body>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script type="text/javascript" language="javascript">
    function ef(){
        var username=document.getElementById("username").value;
        var email=document.getElementById("email").value;
        var password=document.getElementById("psw").value;
        var vpassword=document.getElementById("vpsw").value;
        console.log(username);
        if(username==="" || email==="" || password==="" || vpassword===""){
            document.getElementById('me').innerHTML="<p class='title_small warning_text'>Please enter your details.<br> We are exited to know about you !!</p>";  
        }else{
            if(password===vpassword){
                document.getElementById('me').innerHTML="";
                if(validateEmail(email)){
                    addUser(username,email,password);
                }else{
                    document.getElementById('me').innerHTML="<p class='title_small warning_text'>Please enter a valid email address</p>";    
                }
            }else{
                document.getElementById('me').innerHTML="<p class='title_small warning_text'>Please retype the password correctly.</p>";
                document.getElementById("vpsw").value="";
            }
        }

    }

    function addUser(username,email,psw){
        var myData = {"action": "signup", "username": username,"email":email,"psw":psw};
        alert(username+" "+email+" "+psw);
        $.ajax({
            url: "http://localhost/ExampleEX/PHP/user.php",
            type: "POST",
            data: myData,
            success: function (res) {
                alert(res+" "+(res=='true'));
                if(res==='true'){
                    document.getElementById('cardInfo').innerHTML="<p class='title_description'> Congratulations!!</p> <br><p class='title_medium'>You have successfully registered in EMODI.<br> Let's begin out EMODI journey ..</p><a class='blue-button' href='#'>Login</a>";
                    var newcontent = document.createElement('div');
                    newcontent.innerHTML = "<div class='liner'></div>";
                    document.getElementById('mainCard').appendChild(newcontent);
                }
            }
        });
    }

    function validateEmail(email) {
        var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    }

</script>
</html>